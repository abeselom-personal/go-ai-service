FAIL	github.com/abeselom-personal/go-ai-service/cmd [build failed]
?   	github.com/abeselom-personal/go-ai-service/internal/config	[no test files]
?   	github.com/abeselom-personal/go-ai-service/internal/controller	[no test files]
?   	github.com/abeselom-personal/go-ai-service/internal/database	[no test files]
?   	github.com/abeselom-personal/go-ai-service/internal/model	[no test files]
=== RUN   TestSystemPromptRepo_CRUD

2025/05/18 19:02:08 [31;1m/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:19 [35;1mnear "(": syntax error
[0m[33m[0.012ms] [34;1m[rows:0][0m CREATE TABLE `system_prompts` (`id` uuid DEFAULT gen_random_uuid(),`module_name` text NOT NULL,`provider` text NOT NULL,`system_prompt` text NOT NULL,`user_prompt` text NOT NULL,`prompt_hash` text NOT NULL,`created_at` datetime,`updated_at` datetime,`deleted_at` datetime,PRIMARY KEY (`id`))
    system_prompt_repository_test.go:20: 
        	Error Trace:	/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:20
        	            				/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:25
        	Error:      	Received unexpected error:
        	            	near "(": syntax error
        	Test:       	TestSystemPromptRepo_CRUD

2025/05/18 19:02:08 [31;1m/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository.go:27 [35;1mno such table: system_prompts
[0m[33m[0.052ms] [34;1m[rows:0][0m INSERT INTO `system_prompts` (`module_name`,`provider`,`system_prompt`,`user_prompt`,`prompt_hash`,`created_at`,`updated_at`,`deleted_at`,`id`) VALUES ("test-module","ChatGPT","You are a helper.","What's the weather?","abc123","2025-05-18 19:02:08.889","2025-05-18 19:02:08.889",NULL,"acd3459d-51e6-4783-b611-5af3d2cf30ed") RETURNING `id`
    system_prompt_repository_test.go:39: 
        	Error Trace:	/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:39
        	Error:      	Received unexpected error:
        	            	no such table: system_prompts
        	Test:       	TestSystemPromptRepo_CRUD

2025/05/18 19:02:08 [31;1m/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository.go:32 [35;1mno such table: system_prompts
[0m[33m[0.016ms] [34;1m[rows:0][0m SELECT * FROM `system_prompts` WHERE prompt_hash = "abc123" AND `system_prompts`.`deleted_at` IS NULL ORDER BY `system_prompts`.`id` LIMIT 1
    system_prompt_repository_test.go:43: 
        	Error Trace:	/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:43
        	Error:      	Received unexpected error:
        	            	no such table: system_prompts
        	Test:       	TestSystemPromptRepo_CRUD
    system_prompt_repository_test.go:44: 
        	Error Trace:	/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:44
        	Error:      	Not equal: 
        	            	expected: uuid.UUID{0xac, 0xd3, 0x45, 0x9d, 0x51, 0xe6, 0x47, 0x83, 0xb6, 0x11, 0x5a, 0xf3, 0xd2, 0xcf, 0x30, 0xed}
        	            	actual  : uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,3 @@
        	            	 (uuid.UUID) (len=16) {
        	            	- 00000000  ac d3 45 9d 51 e6 47 83  b6 11 5a f3 d2 cf 30 ed  |..E.Q.G...Z...0.|
        	            	+ 00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	 }
        	Test:       	TestSystemPromptRepo_CRUD

2025/05/18 19:02:08 [31;1m/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository.go:37 [35;1mno such table: system_prompts
[0m[33m[0.026ms] [34;1m[rows:0][0m INSERT INTO `system_prompts` (`module_name`,`provider`,`system_prompt`,`user_prompt`,`prompt_hash`,`created_at`,`updated_at`,`deleted_at`) VALUES ("","","You are a very helpful assistant.","","","2025-05-18 19:02:08.889","2025-05-18 19:02:08.889",NULL) RETURNING `id`
    system_prompt_repository_test.go:49: 
        	Error Trace:	/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:49
        	Error:      	Received unexpected error:
        	            	no such table: system_prompts
        	Test:       	TestSystemPromptRepo_CRUD

2025/05/18 19:02:08 [31;1m/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository.go:32 [35;1mno such table: system_prompts
[0m[33m[0.011ms] [34;1m[rows:0][0m SELECT * FROM `system_prompts` WHERE prompt_hash = "abc123" AND `system_prompts`.`deleted_at` IS NULL ORDER BY `system_prompts`.`id` LIMIT 1
    system_prompt_repository_test.go:52: 
        	Error Trace:	/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:52
        	Error:      	Received unexpected error:
        	            	no such table: system_prompts
        	Test:       	TestSystemPromptRepo_CRUD
    system_prompt_repository_test.go:53: 
        	Error Trace:	/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:53
        	Error:      	Not equal: 
        	            	expected: "You are a very helpful assistant."
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-You are a very helpful assistant.
        	            	+
        	Test:       	TestSystemPromptRepo_CRUD

2025/05/18 19:02:08 [31;1m/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository.go:46 [35;1mno such table: system_prompts
[0m[33m[0.008ms] [34;1m[rows:0][0m SELECT * FROM `system_prompts` WHERE `system_prompts`.`deleted_at` IS NULL
    system_prompt_repository_test.go:57: 
        	Error Trace:	/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:57
        	Error:      	Received unexpected error:
        	            	no such table: system_prompts
        	Test:       	TestSystemPromptRepo_CRUD
    system_prompt_repository_test.go:58: 
        	Error Trace:	/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:58
        	Error:      	"[]" should have 1 item(s), but has 0
        	Test:       	TestSystemPromptRepo_CRUD

2025/05/18 19:02:08 [31;1m/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository.go:41 [35;1mno such table: system_prompts
[0m[33m[0.029ms] [34;1m[rows:0][0m UPDATE `system_prompts` SET `deleted_at`="2025-05-18 19:02:08.889" WHERE id = "acd3459d-51e6-4783-b611-5af3d2cf30ed" AND `system_prompts`.`deleted_at` IS NULL
    system_prompt_repository_test.go:62: 
        	Error Trace:	/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository_test.go:62
        	Error:      	Received unexpected error:
        	            	no such table: system_prompts
        	Test:       	TestSystemPromptRepo_CRUD

2025/05/18 19:02:08 [31;1m/home/abeselom/Desktop/projects/open-source/go-ai-service/internal/repository/system_prompt_repository.go:32 [35;1mno such table: system_prompts
[0m[33m[0.010ms] [34;1m[rows:0][0m SELECT * FROM `system_prompts` WHERE prompt_hash = "abc123" AND `system_prompts`.`deleted_at` IS NULL ORDER BY `system_prompts`.`id` LIMIT 1
--- FAIL: TestSystemPromptRepo_CRUD (0.00s)
FAIL
FAIL	github.com/abeselom-personal/go-ai-service/internal/repository	0.004s
?   	github.com/abeselom-personal/go-ai-service/internal/routes	[no test files]
?   	github.com/abeselom-personal/go-ai-service/internal/service	[no test files]
FAIL
